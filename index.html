<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>moba.gg</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Tier List Mobile Legends - Atualizado e filtrável por função, rota, rank e idioma.">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <!-- FontAwesome for theme icon -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <link rel="stylesheet" href="css/estilo.css">
</head>
<body data-theme="light">
  <!-- HEADER -->
  <header class="header-moba">
    <span class="logo-moba">moba.gg</span>
    <div class="header-actions">
      <button id="themeSwitch" class="theme-switch" title="Modo claro/escuro">
        <i id="themeIcon" class="fa-solid fa-moon"></i>
      </button>
      <div class="lang-switch-wrap">
        <button id="langSwitch" class="lang-switch" title="Trocar idioma">
          <span id="langFlag" class="flag"></span>
        </button>
        <div id="flagDropdown" class="flag-dropdown hidden">
          <span class="flag-option selected" id="flagBR" tabindex="0" aria-label="Português (Brasil)"></span>
          <span class="flag-option" id="flagUS" tabindex="0" aria-label="English (US)"></span>
        </div>
      </div>
    </div>
  </header>

  <main class="main-moba">
    <h1 class="main-title" data-i18n="title">Tier List - Mobile Legends</h1>
    <div class="filters-row">
      <div class="filter-group">
        <label for="rank" data-i18n="rank_label">Rank:</label>
        <select id="rank">
          <option value="mythic" data-i18n="rank_mythic">Mítico</option>
          <option value="legend" data-i18n="rank_legend">Lenda</option>
          <option value="epic" data-i18n="rank_epic">Épico</option>
          <option value="grandmaster" data-i18n="rank_grandmaster">Grão-mestre</option>
          <option value="master" data-i18n="rank_master">Mestre</option>
          <option value="elite" data-i18n="rank_elite">Elite</option>
          <option value="warrior" data-i18n="rank_warrior">Guerreiro</option>
        </select>
        <label for="days" data-i18n="days_label" class="label-inline">Dias:</label>
        <select id="days">
          <option value="1" data-i18n="days_1">1</option>
          <option value="3" data-i18n="days_3">3</option>
          <option value="7" selected data-i18n="days_7">7</option>
          <option value="15" data-i18n="days_15">15</option>
          <option value="30" data-i18n="days_30">30</option>
        </select>
      </div>
    </div>
    <div class="filters-row bg-alt">
      <div class="filter-group">
        <label for="role" data-i18n="role_label">Função:</label>
        <select id="role">
          <option value="" data-i18n="all_roles">Todas</option>
          <option value="mage" data-i18n="role_mage">Mago</option>
          <option value="marksman" data-i18n="role_marksman">Atirador</option>
          <option value="tank" data-i18n="role_tank">Tanque</option>
          <option value="assassin" data-i18n="role_assassin">Assassino</option>
          <option value="fighter" data-i18n="role_fighter">Lutador</option>
          <option value="support" data-i18n="role_support">Suporte</option>
        </select>
        <label for="lane" data-i18n="lane_label" class="label-inline">Rota:</label>
        <select id="lane">
          <option value="" data-i18n="all_lanes">Todas</option>
          <option value="mid" data-i18n="lane_mid">Meio</option>
          <option value="gold" data-i18n="lane_gold">Ouro</option>
          <option value="exp" data-i18n="lane_exp">EXP</option>
          <option value="jungle" data-i18n="lane_jungle">Selva</option>
          <option value="roam" data-i18n="lane_roam">Rotação</option>
        </select>
      </div>
    </div>
    <div class="tier-box tier-ss mb-8">
      <div class="tier-label ss">SS</div>
      <div id="tier-ss" class="tier-container"></div>
    </div>
    <div class="tier-box tier-s mb-8">
      <div class="tier-label s">S</div>
      <div id="tier-s" class="tier-container"></div>
    </div>
    <div class="tier-box tier-a mb-8">
      <div class="tier-label a">A</div>
      <div id="tier-a" class="tier-container"></div>
    </div>
    <div id="noResults" class="no-results hidden" data-i18n="no_heroes">Nenhum herói encontrado.</div>
  </main>

  <footer class="footer-moba">
    <span class="footer-brand">moba.gg &reg; 2025</span>
    <a class="byarthur" href="https://github.com/tutujokes" target="_blank" rel="noopener" aria-label="GitHub">
      Arthur Henrique
      <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="inline ml-1">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M12 2C6.48 2 2 6.48 2 12c0 4.41 2.87 8.14 6.84 9.49.5.09.66-.21.66-.47
          0-.23-.01-.84-.01-1.65-2.78.6-3.37-1.34-3.37-1.34-.45-1.15-1.11-1.46-1.11-1.46-.91-.62.07-.6.07-.6
          1 .07 1.53 1.03 1.53 1.03.89 1.52 2.34 1.08 2.91.82.09-.65.35-1.08.64-1.33
          -2.22-.25-4.56-1.11-4.56-4.95 0-1.09.39-1.99 1.03-2.69-.1-.25-.45-1.27.1-2.65
          0 0 .84-.27 2.75 1.02a9.56 9.56 0 012.5-.34c.85 0 1.7.11 2.5.34
          1.9-1.29 2.75-1.02 2.75-1.02.55 1.38.2 2.4.1 2.65.64.7 1.03 1.6 1.03 2.69
          0 3.85-2.34 4.7-4.57 4.95.36.31.69.93.69 1.88 0 1.36-.01 2.46-.01 2.8
          0 .26.16.57.67.47A10.004 10.004 0 0022 12c0-5.52-4.48-10-10-10z"/>
      </svg>
    </a>
  </footer>

  <script>
    // Troca de Tema (icone FontAwesome)
    function setTheme(theme) {
      document.body.setAttribute('data-theme', theme);
      let icon = document.getElementById('themeIcon');
      if (theme === "dark") {
        icon.className = "fa-solid fa-sun";
      } else {
        icon.className = "fa-solid fa-moon";
      }
      localStorage.setItem('theme', theme);
    }
    function toggleTheme() {
      const theme = document.body.getAttribute('data-theme') === "dark" ? "light" : "dark";
      setTheme(theme);
    }
    document.getElementById('themeSwitch').addEventListener('click', toggleTheme);
    (function() {
      let theme = localStorage.getItem('theme');
      if (!theme) {
        theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? "dark" : "light";
      }
      setTheme(theme);
    })();

    // Troca de Idioma (flags)
    function setFlagImages() {
      document.getElementById('langFlag').style.backgroundImage =
        (localStorage.getItem('lang') || document.documentElement.lang) === "en-US"
        ? "url('https://cdn.jsdelivr.net/gh/hjnilsson/country-flags/svg/us.svg')"
        : "url('https://cdn.jsdelivr.net/gh/hjnilsson/country-flags/svg/br.svg')";
      document.getElementById('flagBR').style.backgroundImage =
        "url('https://cdn.jsdelivr.net/gh/hjnilsson/country-flags/svg/br.svg')";
      document.getElementById('flagUS').style.backgroundImage =
        "url('https://cdn.jsdelivr.net/gh/hjnilsson/country-flags/svg/us.svg')";
    }
    function showFlagDropdown(show) {
      document.getElementById('flagDropdown').classList.toggle('hidden', !show);
    }
    function setLanguage(lang) {
      document.documentElement.lang = lang;
      localStorage.setItem('lang', lang);
      setFlagImages();
      document.getElementById('flagBR').classList.toggle('selected', lang === "pt-BR");
      document.getElementById('flagUS').classList.toggle('selected', lang === "en-US");
    }
    (function() {
      let lang = localStorage.getItem('lang');
      if (!lang) lang = navigator.language === "en-US" ? "en-US" : "pt-BR";
      setLanguage(lang);
      setFlagImages();
    })();
    document.getElementById('langSwitch').addEventListener('click', function(e) {
      showFlagDropdown(true);
      e.stopPropagation();
    });
    document.getElementById('flagBR').addEventListener('click', function() { setLanguage('pt-BR'); showFlagDropdown(false); });
    document.getElementById('flagUS').addEventListener('click', function() { setLanguage('en-US'); showFlagDropdown(false); });
    document.addEventListener('click', function(e) {
      if (!document.getElementById('flagDropdown').contains(e.target) && e.target.id !== "langSwitch") {
        showFlagDropdown(false);
      }
    });
    document.getElementById('flagBR').addEventListener('keypress', function(e){ if(e.key==='Enter'){setLanguage('pt-BR');showFlagDropdown(false);} });
    document.getElementById('flagUS').addEventListener('keypress', function(e){ if(e.key==='Enter'){setLanguage('en-US');showFlagDropdown(false);} });

    // HEROES MOCK DATA AND RENDER
    // Você pode trocar isso por um fetch ou seus dados reais
    const HEROES = [
      {
        name: "Lancelot",
        tier: "ss",
        img: "https://static.wikia.nocookie.net/mobile-legends/images/5/51/Lancelot-MLBB.png",
        role: "assassin",
        lane: "jungle"
      },
      {
        name: "Valentina",
        tier: "ss",
        img: "https://static.wikia.nocookie.net/mobile-legends/images/7/7d/Valentina-MLBB.png",
        role: "mage",
        lane: "mid"
      },
      {
        name: "Fredrinn",
        tier: "s",
        img: "https://static.wikia.nocookie.net/mobile-legends/images/9/98/Fredrinn-MLBB.png",
        role: "fighter",
        lane: "exp"
      },
      {
        name: "Claude",
        tier: "a",
        img: "https://static.wikia.nocookie.net/mobile-legends/images/e/ef/Claude-MLBB.png",
        role: "marksman",
        lane: "gold"
      }
    ];

    function renderHeroes() {
      // Limpa os containers
      ["ss", "s", "a"].forEach(tier => {
        document.getElementById(`tier-${tier}`).innerHTML = "";
      });

      let any = false;
      HEROES.forEach(hero => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <img src="${hero.img}" alt="${hero.name}">
          <div class="hero-name">${hero.name}</div>
          <div class="hero-meta">${hero.role.charAt(0).toUpperCase() + hero.role.slice(1)} &ndash; ${hero.lane.charAt(0).toUpperCase() + hero.lane.slice(1)}</div>
        `;
        const tierBox = document.getElementById(`tier-${hero.tier}`);
        if (tierBox) {
          tierBox.appendChild(card);
          any = true;
        }
      });

      // Exibe 'Nenhum herói encontrado' caso não haja resultados
      document.getElementById('noResults').classList.toggle('hidden', any);
    }

    // Chame renderHeroes ao carregar
    renderHeroes();
  </script>
</body>
</html>
